{% extends 'base.html' %}
{% load static %}

{% block title %}Nomado - Your Travel Companion{% endblock %}

{% block content %}
<!-- Hero Carousel -->
<div class="hero-carousel">
    <div class="carousel-slide active">
        <img src="{% static 'images/hero/hero1.jpg' %}" alt="Travel Destination 1">
    </div>
    <div class="carousel-slide">
        <img src="{% static 'images/hero/hero2.jpg' %}" alt="Travel Destination 2">
    </div>
    <div class="carousel-slide">
        <img src="{% static 'images/hero/hero3.jpg' %}" alt="Travel Destination 3">
    </div>
    <div class="carousel-slide">
        <img src="{% static 'images/hero/hero4.jpg' %}" alt="Travel Destination 4">
    </div>
    <div class="carousel-slide">
        <img src="{% static 'images/hero/hero5.jpg' %}" alt="Travel Destination 5">
    </div>
    
    <div class="carousel-overlay">
        <div class="hero-title">Welcome to Nomado</div>
        <div class="hero-subtitle">Your ultimate travel companion for hotels, transport, and safety</div>
        <div style="margin-top: 2rem;">
            {% if user.is_authenticated %}
                <a href="{% url 'dashboard' %}" class="btn btn-secondary" style="margin: 0 1rem;">My Dashboard</a>
                <a href="{% url 'hotel_search' %}" class="btn" style="margin: 0 1rem;">Find Hotels</a>
            {% else %}
                <a href="{% url 'register' %}" class="btn btn-secondary" style="margin: 0 1rem;">Get Started</a>
                <a href="{% url 'login' %}" class="btn" style="margin: 0 1rem;">Login</a>
            {% endif %}
        </div>
    </div>
    
    <!-- Carousel Arrows -->
    <div class="carousel-arrows">
        <button class="carousel-arrow" onclick="changeSlide(-1)">‹</button>
        <button class="carousel-arrow" onclick="changeSlide(1)">›</button>
    </div>
    
    <!-- Carousel Indicators -->
    <div class="carousel-indicators">
        <span class="indicator active" onclick="goToSlide(0)"></span>
        <span class="indicator" onclick="goToSlide(1)"></span>
        <span class="indicator" onclick="goToSlide(2)"></span>
        <span class="indicator" onclick="goToSlide(3)"></span>
        <span class="indicator" onclick="goToSlide(4)"></span>
    </div>
</div>

<div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 2rem; margin-top: 3rem;">
    <div class="card">
        <h3 style="color: #667eea; margin-bottom: 1rem;">🏨 Hotel Booking</h3>
        <p style="margin-bottom: 1.5rem;">Find and book the best hotels based on cleanliness, comfort, and safety ratings. Compare prices and amenities to make the perfect choice.</p>
        <a href="{% url 'hotel_search' %}" class="btn">Search Hotels</a>
    </div>

    <div class="card">
        <h3 style="color: #667eea; margin-bottom: 1rem;">🚗 Transportation</h3>
        <p style="margin-bottom: 1.5rem;">Plan your journey with trains, flights, and buses. Get route suggestions and book tickets for efficient travel paths.</p>
        <a href="{% url 'transport_search' %}" class="btn">Book Transport</a>
    </div>

    <div class="card">
        <h3 style="color: #667eea; margin-bottom: 1rem;">📍 Safety Features</h3>
        <p style="margin-bottom: 1.5rem;">Share your location with loved ones and access emergency SOS alerts for added safety during your travels.</p>
        {% if user.is_authenticated %}
            <a href="{% url 'location_share' %}" class="btn">Share Location</a>
        {% else %}
            <a href="{% url 'login' %}" class="btn">Login to Access</a>
        {% endif %}
    </div>
</div>

{% if user.is_authenticated %}
<div class="card" style="margin-top: 2rem; text-align: center;">
    <h3 style="color: #667eea; margin-bottom: 1rem;">Welcome back, {{ user.first_name|default:user.username }}!</h3>
    <p>Ready to plan your next adventure?</p>
    <div style="margin-top: 1rem;">
        <a href="{% url 'profile' %}" class="btn" style="margin: 0 0.5rem;">View Profile</a>
        <a href="#" class="btn btn-secondary" style="margin: 0 0.5rem;">My Bookings</a>
    </div>
</div>
{% else %}
<div class="card" style="margin-top: 2rem; text-align: center; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white;">
    <h3 style="margin-bottom: 1rem;">Join Nomado Today</h3>
    <p style="margin-bottom: 1.5rem;">Create an account to access all features including hotel booking, transport planning, and safety tools.</p>
    <div>
        <a href="{% url 'register' %}" class="btn btn-secondary" style="margin: 0 0.5rem;">Sign Up Free</a>
        <a href="{% url 'login' %}" class="btn" style="margin: 0 0.5rem; background: rgba(255,255,255,0.2);">Already have an account?</a>
    </div>
</div>
{% endif %}

<div style="margin-top: 3rem; text-align: center;">
    <h2 style="color: #667eea; margin-bottom: 2rem;">Why Choose Nomado?</h2>
    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 2rem;">
        <div style="padding: 1rem;">
            <div style="font-size: 3rem; margin-bottom: 1rem;">⭐</div>
            <h4 style="color: #333; margin-bottom: 0.5rem;">Quality Ratings</h4>
            <p style="color: #666;">Real ratings for cleanliness, comfort, and safety</p>
        </div>
        <div style="padding: 1rem;">
            <div style="font-size: 3rem; margin-bottom: 1rem;">🔒</div>
            <h4 style="color: #333; margin-bottom: 0.5rem;">Secure Bookings</h4>
            <p style="color: #666;">Safe and secure payment processing</p>
        </div>
        <div style="padding: 1rem;">
            <div style="font-size: 3rem; margin-bottom: 1rem;">🚨</div>
            <h4 style="color: #333; margin-bottom: 0.5rem;">Emergency Support</h4>
            <p style="color: #666;">SOS alerts and location sharing for safety</p>
        </div>
        <div style="padding: 1rem;">
            <div style="font-size: 3rem; margin-bottom: 1rem;">💰</div>
            <h4 style="color: #333; margin-bottom: 0.5rem;">Best Prices</h4>
            <p style="color: #666;">Compare prices across multiple providers</p>
        </div>
    </div>
</div>

<script>
let currentSlide = 0;
const slides = document.querySelectorAll('.carousel-slide');
const indicators = document.querySelectorAll('.indicator');
const totalSlides = slides.length;

function showSlide(n) {
    slides.forEach(slide => slide.classList.remove('active'));
    indicators.forEach(indicator => indicator.classList.remove('active'));
    
    currentSlide = (n + totalSlides) % totalSlides;
    
    slides[currentSlide].classList.add('active');
    indicators[currentSlide].classList.add('active');
}

function changeSlide(direction) {
    showSlide(currentSlide + direction);
}

function goToSlide(n) {
    showSlide(n);
}

// Auto-advance carousel every 5 seconds
setInterval(() => {
    changeSlide(1);
}, 5000);
</script>
{% endblock %}